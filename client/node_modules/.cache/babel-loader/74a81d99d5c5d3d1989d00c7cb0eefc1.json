{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\Users\\\\Robert\\\\Desktop\\\\code\\\\Projects\\\\Town_Coffee\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\Robert\\\\Desktop\\\\code\\\\Projects\\\\Town_Coffee\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nvar _jsxFileName = \"C:\\\\Users\\\\Robert\\\\Desktop\\\\code\\\\Projects\\\\Town_Coffee\\\\client\\\\src\\\\pages\\\\Cart\\\\Cart.js\";\nimport React, { useContext } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport CartContext from \"../../utils/CartContext\";\nimport { Container, Row, Col, Table, Button } from \"react-bootstrap\"; // calling loadStripe (using their \"test\" API key - later we will replace this):\n\nimport { loadStripe } from '@stripe/stripe-js';\nvar stripePromise = loadStripe('pk_test_51Hvpi3EepCRzNwguls5OnTw70wCoyLoTSIGqq2IEwsXV2tAiYiolvLMCfn2f0ESi18IVa5tP2f676tJ4hrJ8cSXr00IcBrN1E9');\n\nfunction Cart(props) {\n  var cartItems = useContext(CartContext);\n  console.log(\"cartitems are: \".concat(cartItems.item, \" and quantity is: \").concat(cartItems.quantity, \" and price is \").concat(cartItems.price));\n\n  var handleClick = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(event) {\n      var stripe, response, session, result;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return stripePromise;\n\n            case 2:\n              stripe = _context.sent;\n              _context.next = 5;\n              return fetch('/create-checkout-session', {\n                method: 'POST'\n              });\n\n            case 5:\n              response = _context.sent;\n              _context.next = 8;\n              return response.json();\n\n            case 8:\n              session = _context.sent;\n              _context.next = 11;\n              return stripe.redirectToCheckout({\n                sessionId: session.id\n              });\n\n            case 11:\n              result = _context.sent;\n\n              if (result.error) {// If `redirectToCheckout` fails due to a browser or network\n                // error, display the localized error message to your customer\n                // using `result.error.message`.\n              }\n\n            case 13:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function handleClick(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 25\n    }\n  }, \"Your Cart Items: (\", cartItems.quantity, \")\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 25\n    }\n  }, \"Item: \", cartItems.item), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 25\n    }\n  }, cartItems.price), /*#__PURE__*/React.createElement(Table, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 37\n    }\n  }, \"#\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 37\n    }\n  }, \"Item Name\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 37\n    }\n  }, \"Quantity\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 37\n    }\n  }, \"Price\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 37\n    }\n  }), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 37\n    }\n  }), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 37\n    }\n  }, \"Subtotal\"), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 37\n    }\n  }, \"$ \")))))), /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    style: {\n      textAlign: \"right\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    role: \"link\",\n    onClick: handleClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 25\n    }\n  }, \"Proceed to Checkout\"))), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 17\n    }\n  })));\n}\n\nexport default Cart;","map":{"version":3,"sources":["C:/Users/Robert/Desktop/code/Projects/Town_Coffee/client/src/pages/Cart/Cart.js"],"names":["React","useContext","Link","CartContext","Container","Row","Col","Table","Button","loadStripe","stripePromise","Cart","props","cartItems","console","log","item","quantity","price","handleClick","event","stripe","fetch","method","response","json","session","redirectToCheckout","sessionId","id","result","error","textAlign"],"mappings":"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","sourcesContent":["import React, { useContext } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport CartContext from \"../../utils/CartContext\"\nimport { Container, Row, Col, Table, Button } from \"react-bootstrap\";\n\n// calling loadStripe (using their \"test\" API key - later we will replace this):\nimport { loadStripe } from '@stripe/stripe-js';\nconst stripePromise = loadStripe('pk_test_51Hvpi3EepCRzNwguls5OnTw70wCoyLoTSIGqq2IEwsXV2tAiYiolvLMCfn2f0ESi18IVa5tP2f676tJ4hrJ8cSXr00IcBrN1E9');\n\n\nfunction Cart(props) {\n    const cartItems = useContext(CartContext)\n    console.log(`cartitems are: ${cartItems.item} and quantity is: ${cartItems.quantity} and price is ${cartItems.price}`)\n\n\n\n    const handleClick = async (event) => {\n        // Get Stripe.js instance\n        const stripe = await stripePromise;\n\n        // Call your backend to create the Checkout Session\n        const response = await fetch('/create-checkout-session', { method: 'POST' });\n\n        const session = await response.json();\n\n        // When the customer clicks on the button, redirect them to Checkout.\n        const result = await stripe.redirectToCheckout({\n            sessionId: session.id,\n        });\n\n        if (result.error) {\n            // If `redirectToCheckout` fails due to a browser or network\n            // error, display the localized error message to your customer\n            // using `result.error.message`.\n        }\n    };\n\n\n\n\n\n    return (\n        <>\n            <Container>\n                <br />\n                <Row>\n                    <Col>\n                        <h1>Your Cart Items: ({cartItems.quantity})</h1>\n                        <p>Item: {cartItems.item}</p>\n                        <p>{cartItems.price}</p>\n\n                        <Table >\n                            <thead>\n                                <tr>\n                                    <th>#</th>\n                                    <th>Item Name</th>\n                                    <th>Quantity</th>\n                                    <th>Price</th>\n                                </tr>\n                            </thead>\n                            <tbody>\n                                {/* {cartItems.map(element => (\n                                    <tr>\n                                        <td>{element.item}</td>\n                                        <td>{element.quantity}</td>\n                                        <td>{element.price}</td>\n                                    </tr>\n                                ))} */}\n\n                                <tr>\n                                    <td></td>\n                                    <td></td>\n                                    <td>Subtotal</td>\n                                    <td>$ { }</td>\n                                </tr>\n\n                            </tbody>\n                        </Table>\n\n                    </Col>\n                </Row>\n\n\n\n\n                <Row>\n                    <Col style={{ textAlign: \"right\" }}>\n                        <Button role=\"link\" onClick={handleClick}>Proceed to Checkout</Button>\n                    </Col>\n                </Row>\n\n\n\n                <br />\n                <br />\n                <br />\n                <br />\n                <br />\n                <br />\n                <br />\n                <br />\n                <br />\n\n            </Container>\n\n\n        </>\n\n    )\n}\n\nexport default Cart;\n\n"]},"metadata":{},"sourceType":"module"}